<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Album View - Rasmalai Babyman</title>
    <link rel="stylesheet" href="photobooth.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@600;700&family=Outfit:wght@300;400;600&display=swap"
        rel="stylesheet">
    <style>
        /* Specific styles for the inner photos */
        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 25px;
            padding: 20px;
            max-width: 1000px;
            margin: 0 auto;
        }

        .gallery-item {
            background: white;
            padding: 12px 12px 30px 12px;
            /* Polaroid style bottom padding */
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            transform-origin: center;
        }

        /* Alternating rotations for a "messy" cute look */
        .gallery-item:nth-child(even) {
            transform: rotate(2deg);
        }

        .gallery-item:nth-child(odd) {
            transform: rotate(-2deg);
        }

        .gallery-item:hover {
            transform: scale(1.05) rotate(0deg) !important;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
            z-index: 10;
        }

        .gallery-item img {
            width: 100%;
            height: 250px;
            object-fit: cover;
            background: #f0f0f0;
            display: block;
        }

        .gallery-placeholder {
            width: 100%;
            height: 200px;
            background: #eee;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #999;
            font-family: 'Outfit', sans-serif;
        }

        /* Lightbox Modal */
        .lightbox {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 2000;
            justify-content: center;
            align-items: center;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .lightbox.active {
            display: flex;
            opacity: 1;
        }

        .lightbox-content {
            max-width: 90%;
            max-height: 90vh;
            border: 8px solid white;
            border-radius: 4px;
            box-shadow: 0 0 25px rgba(0, 0, 0, 0.5);
            transform: scale(0.9);
            transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .lightbox.active .lightbox-content {
            transform: scale(1);
        }

        .lightbox-close {
            position: absolute;
            top: 20px;
            right: 30px;
            color: white;
            font-size: 40px;
            cursor: pointer;
            z-index: 2001;
            font-family: Arial, sans-serif;
        }
    </style>
</head>

<body>
    <!-- Floating Hearts -->
    <div class="floating-hearts">
        <span>‚ù§Ô∏è</span> <span>üíñ</span> <span>üíï</span> <span>üíû</span>
        <span>‚ù§Ô∏è</span> <span>üíñ</span> <span>üíï</span> <span>üíû</span>
    </div>

    <!-- Lightbox -->
    <div class="lightbox" id="lightbox">
        <span class="lightbox-close" onclick="closeLightbox()">&times;</span>
        <img src="" alt="Zoomed Photo" class="lightbox-content" id="lightbox-img">
    </div>

    <section class="section">
        <h2 id="album-title">Album Name</h2>
        <p style="text-align: center; margin-bottom: 20px;" id="album-date">Date goes here</p>

        <div class="gallery-grid" id="gallery-container">
            <!-- JS will populate photos here -->
        </div>

        <div class="menu-container">
            <a href="photobooth.html" class="menu-btn">‚Üê Back to Albums</a>
        </div>
    </section>

    <script>
        const params = new URLSearchParams(window.location.search);
        const albumId = params.get('id') || params.get('date'); // Support both new ID and legacy date

        const titleEl = document.getElementById('album-title');
        const dateEl = document.getElementById('album-date');
        const container = document.getElementById('gallery-container');
        const lightbox = document.getElementById('lightbox');
        const lightboxImg = document.getElementById('lightbox-img');

        // Data map
        const albums = {
            'first_photobooth': {
                title: 'First Photobooth',
                date: 'Sep 27, 2025',
                images: [
                    '../assets/photobooth/album1/photo1.jpg',
                    '../assets/photobooth/album1/photo2.jpg',
                    '../assets/photobooth/album1/photo3.jpg',
                    '../assets/photobooth/album1/photo4.jpg',
                    '../assets/photobooth/album1/photo5.jpg'
                ]
            },
            'brooks_lake': {
                title: 'Brooks & Kuruchi Lake',
                date: 'Oct 2, 2025',
                images: [
                    '../assets/photobooth/album2/photo1.jpg',
                    '../assets/photobooth/album2/photo2.jpg',
                    '../assets/photobooth/album2/photo3.jpg',
                    '../assets/photobooth/album2/photo4.jpg',
                    '../assets/photobooth/album2/photo5.jpg',
                    '../assets/photobooth/album2/photo6.jpg',
                    '../assets/photobooth/album2/photo7.jpg'
                ]
            },
            'kissed_her': {
                title: 'The Day I Kissed Her',
                date: 'Oct 6, 2025',
                images: [
                    '../assets/photobooth/album3/p1.jpg',
                    '../assets/photobooth/album3/p2.jpg',
                    '../assets/photobooth/album3/p3.jpg',
                    '../assets/photobooth/album3/p4.jpg',
                    '../assets/photobooth/album3/p6.jpg',
                    '../assets/photobooth/album3/p7.jpg',
                    '../assets/photobooth/album3/p8.jpg',
                    '../assets/photobooth/album3/p9.jpg',
                    '../assets/photobooth/album3/p10.jpg',
                    '../assets/photobooth/album3/p11.jpg',
                    '../assets/photobooth/album3/p12.jpg',
                    '../assets/photobooth/album3/p13.jpg'
                ]
            },
            // Legacy fallbacks
            '2025-10-06': { title: 'First Date', date: 'Oct 6, 2025', count: 5 },
            '2025-11-20': { title: 'Ice Cream Date', date: 'Nov 20, 2025', count: 12 },
            '2025-12-01': { title: 'Beach Day', date: 'Dec 1, 2025', count: 8 }
        };

        const currentAlbum = albums[albumId] || { title: 'Unknown Album', date: '', count: 0 };

        titleEl.textContent = currentAlbum.title;
        dateEl.textContent = currentAlbum.date;

        // Render images
        if (currentAlbum.images) {
            // Render actual images
            currentAlbum.images.forEach(src => {
                const div = document.createElement('div');
                div.className = 'gallery-item';
                div.onclick = () => openLightbox(src);

                const img = document.createElement('img');
                img.src = src;
                img.alt = "Photobooth Capture";
                img.loading = "lazy";

                div.appendChild(img);
                container.appendChild(div);
            });
        } else {
            // Render placeholders for legacy/empty albums
            const count = currentAlbum.count || 0;
            for (let i = 1; i <= count; i++) {
                const div = document.createElement('div');
                div.className = 'gallery-item';
                div.innerHTML = `<div class="gallery-placeholder">Photo ${i}</div>`;
                container.appendChild(div);
            }
        }

        // Lightbox Functions
        function openLightbox(src) {
            lightboxImg.src = src;
            lightbox.classList.add('active');
            document.body.style.overflow = 'hidden'; // Prevent scrolling
        }

        function closeLightbox() {
            lightbox.classList.remove('active');
            document.body.style.overflow = '';
        }

        // Close when clicking outside image
        lightbox.addEventListener('click', (e) => {
            if (e.target === lightbox) {
                closeLightbox();
            }
        });

        // Close on Escape key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') closeLightbox();
        });
    </script>
</body>

</html>